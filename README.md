# 8パズルの可解問題提示とそのチートプログラム
	3年4組47番 藤井悠太  
## プログラムの概要
本プログラムは、9個のマスの中に8個の数字(空欄は0とする)を並べ、バブルソートの交換のような、二つの隣り合った数値のみを交換することで、目的の形に寄せるというパズルにおける不可解問題の存在に着目し、数学的技術による可解問題提示を行い、実際にプログラム内でフローを提示することでユーザの補助をするアプリケーションである。

### 1. 8パズルの問題提示
0-8の数を任意に並べ、入力値とする。基本的にはこの数を二次元配列に入れることで問題提示を可能としている。  
8パズルでは「解けない問題がある」ことが有名である。
#### 1-2. 8パズルの不可解問題と置換の関係について
8パズルにおいて、3*3のマスを横に並べた配列にした際に、奇数置換の行列になった際に、そのパズルは解くことが不可能である。  
これは8パズルが二つの数の互換であることが関係している。また、偶数置換であっても、必ずしも解くことができるとは限らない。この事が、8パズルを面白くする一つの要因だ。
#### 1-3. 本プログラム内での処理
置換に関しては授業内で実装したpermutationクラスを関数化し、組み込んでいる。ユーザが入力したデータが奇数置換の配列であった場合、偶数置換に変換する処理をしている。  
具体的には、配列の0番目の要素と1番目の要素をswapすることを行なっている。
もともと入力された値が0番目と1番目のみを交換していた配列だった場合、もう一度違う配列を入力するように促す。
### 2. 8パズルの解法
8パズルでは、隣り合う二つの数を交換する作業を繰り返す。したがって、プログラムでそれを行う場合、隣接する要素の値を持ち、変更を検討する。A*アルゴリズムなどが有名である。今回は特別なアルゴリズムは用いずに、ライブラリqueue、mapを用いて実装した

### 3. 考察
当初は4*4の15パズルでの実装を試みていたが、計算量と時間の兼ね合いにより、要素数を下げて8パズルで実装した。8パズルでも約100msほどの計算時間がかかる。  
8パズルでは最長でも31手でたどり着くが、15パズルでは80手かかるものがあることもわかった。
# 使い方
基本的に対話型のアプリケーションになっているため、出力に対して相当するデータを与えることで動作する。  
	1. はじめに、0-8までの数を任意の順番で入力する   
	2. アプリケーションが置換のループ表示をし、適宜数字の場所を変えることで、可解な問題に変更する。  
	3. その問題に対してのチートシート(解き方のフロー)が出力される。
	4. これは下から上に向かって表示されることに注意されたい。
## 実行結果
実行した結果は以下のようになる
[![Image from Gyazo](https://i.gyazo.com/4e62d70a1c2fda239286ce93799f2156.jpg)](https://gyazo.com/4e62d70a1c2fda239286ce93799f2156)
# データセット
検証用にデータセットを用意した。Processingでランダムに発生させた数列であるので、全てが違う結果になるとは限らないことに注意されたい。  
 - 3 0 2 7 4 5 8 1 6  
 - 6 3 8 1 2 4 0 7 5  
 - 8 2 5 6 0 1 3 4 7  
 - 0 1 2 3 4 5 6 8 7  
 - 7 3 2 6 4 8 0 5 1  
 - 1 3 4 7 8 6 0 5 2  
 - 6 1 8 5 4 7 2 0 3  
 - 5 1 6 8 2 7 0 3 4  
 - 4 5 3 0 8 7 2 1 6  
 - 2 1 4 0 3 8 7 6 5  

# 参考文献
 - スライドパズル, お気楽C言語プログラミング超入門, Makoto Hiroi, 2015, http://www.geocities.jp/m_hiroi/linux/clang22.html
 - charをstring型に変換する方法, MaryCore, 2016, http://marycore.jp/prog/cpp/convert-char-to-string/
 - 15パズル, Wikipedia, 2018, https://ja.wikipedia.org/wiki/15%E3%83%91%E3%82%BA%E3%83%AB#%E5%9B%B0%E9%9B%A3%E6%80%A7 